import Meta from "./Meta.clog"

+(Number(?a), Number(?b), ?out) :-
  js_add(?a, ?b, ?out).

+(String(?a), String(?b), ?out) :-
  js_add(?a, ?b, ?out).

lookup(Number(?a), Meta.+, {args: [?a Number(?b)], ?ret})
  :- ?ret = ?a + ?b.
lookup(String(?a), Meta.+, {args: [?a String(?b)], ret})
  :- ?ret = ?a + ?b.

add_1(?in, ?out) :-
  ?out = ?in + 1.

add(?a, ?b, ?ret) :-
  lookup(?a, Meta.+, {args: [?a ?b], ?ret}).

?- add_1?(2, ?result).

add(1, 2, ?a).

?a = 10.
